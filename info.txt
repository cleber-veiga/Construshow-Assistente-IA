CREATE TABLE VIASOFTMCP.CHATCAB (
    IDCHAT      NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY, -- Identificador único do chat
    IDUSER      VARCHAR2(255) NOT NULL,                              -- Identificador do usuário que iniciou o chat
    STATUS      VARCHAR2(20) DEFAULT 'OPEN' NOT NULL,                -- Status do chat ('OPEN' ou 'CLOSED')
    CREATEDAT   TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,        -- Data e hora de criação do chat
    CLOSEDAT    TIMESTAMP,                                           -- Data e hora de encerramento do chat
    PROCESS     VARCHAR2(255),                                       -- Rotina/Processo de abertura do chat
    ESTAB       NUMBER NOT NULL,                                     -- Estabelecimento do Chat
    CHAVE       NUMBER NOT NULL                                      -- Chave do Chat, pode ser IDCARRINHO,IDNOTA,IDDUPPAG depende do contexto
);


CREATE TABLE VIASOFTMCP.CHATDET (
    IDMESSAGE   NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,    -- Identificador único da mensagem
    IDCHAT      NUMBER NOT NULL,                                        -- Referência ao IDCHAT da tabela CHATCAB
    SENDER      VARCHAR2(20) NOT NULL,                                  -- Quem enviou a mensagem ('USER' ou 'SYSTEM')
    MESSAGE     CLOB NOT NULL,                                          -- Conteúdo da mensagem
    TIMESTAMP   TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,           -- Data e hora da mensagem
    CONSTRAINT  FK_CHATDET_CHATCAB FOREIGN KEY (IDCHAT) REFERENCES CHATCAB (IDCHAT) -- Chave estrangeira
);

CREATE TABLE VIASOFTMCP.CHATDOMAIN(
    ID NUMBER       GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,             -- Identificador único da tabela
    IDMESSAGE       NUMBER NOT NULL,
    DOMAIN          VARCHAR2(500) NOT NULL,                                 -- Domínio ou lista de domínios identificados pela RN formato de lista separado por vírgula
    SHORTMESSAGE    VARCHAR2(4000) NOT NULL,
    TRUST           NUMBER NOT NULL,
    CONSTRAINT  FK_CHATDOMAIN_CHATDET FOREIGN KEY (IDMESSAGE) REFERENCES CHATDET (IDMESSAGE) -- Chave estrangeira
);

Quando não reconhecer o nssm deve forçar o recarremento das variáveis de ambiente no powershell como adm com o seguinte comando: 
$env:Path = [System.Environment]::GetEnvironmentVariable('Path', [System.EnvironmentVariableTarget]::Machine)


#Checar as dependências ausentes:
pyinstaller --check-path ViasoftServerConstruShowIA.exe

pyinstaller --clean --onefile --name ViasoftServerConstruShowIA `
--collect-all sklearn `
--hidden-import=tensorflow `
--hidden-import=tabulate `
--hidden-import=pydantic.deprecated.decorator `
--add-data "app/core/data/tokenizer.py;app/core/data/" `
--icon "D:\ProjetosIA\ViasoftServerConstruShowIA\icon\Icon.ico" `
service.py